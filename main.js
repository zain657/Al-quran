let surahElement,row=document.getElementById("row"),info=JSON.parse(localStorage.getItem("info")),allSurah=[],surah="";async function getSurahApi(){try{let e=await fetch("https://api.alquran.cloud/v1/surah"),a=await e.json();allSurah=a.data,createSurahElement(allSurah),retreve(surah,row)}catch(e){}}function createSurahElement(e){if("ar"!==info.selectedLanguage)for(let a=0;a<e.length;a++)surah+=`<div  class="col-12 s-name"><a href="bookPage/book.html">${e[a].englishName}</a></div>`;else for(let a=0;a<e.length;a++)surah+=`<div  class="col-12 s-name"><a href="bookPage/book.html">${e[a].name}</a></div>`}function retreve(e,a){a.innerHTML=e}function aa(){surahElement=document.querySelectorAll(".s-name")}async function sort(){await getSurahApi(),aa();for(let e=0;e<surahElement.length;e++)surahElement[e].addEventListener("click",(function(a){info.num=e,localStorage.setItem("info",JSON.stringify(info))}))}null==info&&(info={selectedLanguage:"ar",selectedType:"quran-uthmani",selectedReader:"ar.abdulsamad",num:-1},localStorage.setItem("info",JSON.stringify(info))),sort();let search=document.getElementById("search"),searchbtn=document.getElementById("searchbtn");function retriveS(e){for(var a="",t=0;t<e.length;t++)"ar"!==info.selectedLanguage?a+=`<div  class="col-12 s-name"><a href="bookPage/book.html">${e[t].englishName}</a></div>`:a+=`<div  class="col-12 s-name"><a href="bookPage/book.html">${e[t].name}</a></div>`;row.innerHTML=a}search.addEventListener("input",(function(e){for(var a=[],t=0;t<allSurah.length;t++)"ar"!==info.selectedLanguage?allSurah[t].englishName.toLowerCase().includes(e.target.value.toLowerCase())&&a.push(allSurah[t]):allSurah[t].name.toLowerCase().includes(e.target.value.toLowerCase())&&a.push(allSurah[t]);retriveS(a)}));